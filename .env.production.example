# Production Environment Variables Template for PazPaz
# Copy this file to .env.production and fill in the values
# CRITICAL: Never commit .env.production to version control

# =============================================================================
# GitHub Container Registry
# =============================================================================
# Used by docker-compose.prod.yml to pull images
GITHUB_REPOSITORY=yourusername/pazpaz
IMAGE_TAG=latest
VERSION=latest

# =============================================================================
# Database Configuration
# =============================================================================
# Generate strong password: openssl rand -base64 32
POSTGRES_PASSWORD=CHANGE_ME_GENERATE_RANDOM_32_CHARS

# =============================================================================
# Redis Configuration
# =============================================================================
# Generate strong password: openssl rand -base64 32
REDIS_PASSWORD=CHANGE_ME_GENERATE_RANDOM_32_CHARS

# =============================================================================
# MinIO/S3 Configuration
# =============================================================================
# Generate access key: openssl rand -base64 16 | tr -d '/+=' | cut -c1-20
S3_ACCESS_KEY=CHANGE_ME_20CHARS_MIN

# Generate secret key: openssl rand -base64 32 | tr -d '/+=' | cut -c1-40
S3_SECRET_KEY=CHANGE_ME_GENERATE_RANDOM_40_CHARS

# S3 bucket configuration
S3_BUCKET_NAME=pazpaz-attachments
S3_REGION=us-east-1

# MinIO encryption key (base64 encoded 32 bytes)
# Generate: python -c "import secrets,base64; print(base64.b64encode(secrets.token_bytes(32)).decode())"
MINIO_ENCRYPTION_KEY=CHANGE_ME_BASE64_32_BYTES

# =============================================================================
# Application Security
# =============================================================================
# Generate secret key: openssl rand -base64 64
SECRET_KEY=CHANGE_ME_GENERATE_RANDOM_64_CHARS

# JWT secret key for token signing
# Generate: openssl rand -base64 32
JWT_SECRET_KEY=CHANGE_ME_GENERATE_RANDOM_32_CHARS

# PHI encryption master key (base64 encoded 32 bytes)
# Generate: python -c "import secrets,base64; print(base64.b64encode(secrets.token_bytes(32)).decode())"
ENCRYPTION_MASTER_KEY=CHANGE_ME_BASE64_32_BYTES

# =============================================================================
# Application Configuration
# =============================================================================
# Frontend URL (no trailing slash)
FRONTEND_URL=https://app.pazpaz.com

# Allowed hosts (comma-separated, no spaces)
ALLOWED_HOSTS=app.pazpaz.com,api.pazpaz.com

# CORS origins (comma-separated if needed, usually empty for same-origin)
CORS_ALLOWED_ORIGINS=

# =============================================================================
# Email Configuration
# =============================================================================
# SMTP settings for production email provider
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=CHANGE_ME_SENDGRID_API_KEY
SMTP_USE_TLS=true
EMAILS_FROM_EMAIL=noreply@pazpaz.com

# =============================================================================
# Monitoring & Logging
# =============================================================================
# Sentry DSN for error tracking (backend errors sent to Sentry.io)
SENTRY_DSN=https://61ae381410a51e985704bc1a3afee5bd@o4510351660810240.ingest.us.sentry.io/4510351661793280

# Grafana admin password (generate with: openssl rand -base64 32 | tr -d '/+=')
# IMPORTANT: Change this before deploying to production!
GRAFANA_PASSWORD=CHANGE_ME_GENERATE_RANDOM_32_CHARS

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# =============================================================================
# Performance Tuning
# =============================================================================
# API worker configuration
WORKERS=4
MAX_CONNECTIONS=100

# Database pool size
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40

# Redis connection pool
REDIS_MAX_CONNECTIONS=50

# =============================================================================
# Feature Flags
# =============================================================================
# Enable/disable features in production
ENABLE_2FA=true
ENABLE_FILE_UPLOADS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_VIRUS_SCANNING=true

# =============================================================================
# SSL/TLS Configuration
# =============================================================================
# Database SSL settings
DB_SSL_ENABLED=true
DB_SSL_MODE=require

# =============================================================================
# Backup Configuration
# =============================================================================
# Backup schedule (cron format)
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# S3 backup destination (optional, for offsite backups)
BACKUP_S3_BUCKET=
BACKUP_S3_ACCESS_KEY=
BACKUP_S3_SECRET_KEY=
BACKUP_S3_REGION=us-east-1

# =============================================================================
# Deployment Information
# =============================================================================
# Used for tracking and monitoring
DEPLOYMENT_ENV=production
DEPLOYMENT_REGION=us-east-1
DEPLOYMENT_TIMESTAMP=